<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Modo Presentación · (In)Essential Bordering</title>
  <link rel="stylesheet" href="../css/styles.css" />
  <style>
    :root{
      --teal:#0b8a8f;
      --teal-dark:#086b6f;
      --sun:#ffb64d;
      --coral:#ff4b4b;
      --cream:#fff7ec;
      --ink:#103338;
    }
    body {
      background: var(--teal);
      color: #fff;
      margin: 0;
      font-family: system-ui, sans-serif;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .presentation-container {
      width: 100vw;
      min-height: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-top: 2.5vh;
      margin-bottom: 0;
    }
    .card-flip {
      width: 100%;
      max-width: 900px;
      min-width: 0;
      min-height: 220px;
      margin-bottom: 0.5rem;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .flip-inner {
      width: 100%;
      min-height: 220px;
      position: relative;
      transition: transform 0.7s cubic-bezier(.4,2,.3,1);
      transform-style: preserve-3d;
    }
    .slide-face {
      width: 100%;
      max-width: 900px;
      box-sizing: border-box;
      background: rgba(255,247,236,0.97);
      color: var(--ink);
      border-radius: 24px;
      box-shadow: 0 8px 32px rgba(11,138,143,.18);
      padding: 2rem 1.2rem;
      font-size: 2.2rem;
      text-align: center;
      display: none;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      overflow-y: auto;
      word-break: break-word;
    }
    .slide-face.active {
      display: flex;
      animation: fadeIn .4s;
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    .slide-face h1, .slide-face h2 {
      color: var(--teal-dark);
      margin-bottom: 1.2rem;
      font-size: 2.1rem;
      font-weight: 900;
      letter-spacing: .03em;
    }
    .controls {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
      justify-content: center;
      margin-bottom: 2rem;
      margin-top: 1.2rem;
      position: static;
      z-index: auto;
    }
    .btn {
      background: var(--sun);
      color: var(--ink);
      border: none;
      border-radius: 999px;
      padding: 1rem 2.2rem;
      font-size: 1.2rem;
      font-weight: bold;
      cursor: pointer;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
      transition: background .2s;
      margin-bottom: .5rem;
    }
    .btn:disabled {
      background: #ffe6b3;
      color: #aaa;
      cursor: not-allowed;
    }
    @media (max-width: 950px) {
      .card-flip, .slide-face {
        max-width: 98vw;
      }
    }
    @media (max-width: 600px) {
      .card-flip {
        max-width: 100vw;
        min-height: 160px;
      }
      .slide-face {
        font-size: 1.15rem;
        padding: 1rem .5rem;
        min-height: 160px;
      }
      .slide-face h1, .slide-face h2 {
        font-size: 1.2rem;
      }
      .controls {
        flex-direction: column;
        gap: .5rem;
        margin-bottom: 1.2rem;
        margin-top: 1rem;
      }
    }
    @media (max-width: 400px) {
      .slide-face {
        font-size: 1rem;
        padding: .5rem .2rem;
      }
    }
  </style>
</head>
<body>
  <div class="presentation-container">
    <div class="card-flip">
      <div class="flip-inner" id="flipInner">
        <div class="slide-face front active" id="frontFace"></div>
        <div class="slide-face back" id="backFace"></div>
      </div>
    </div>
    <div class="controls">
      <button class="btn" id="prevBtn">Anterior</button>
      <button class="btn" id="flipBtn">Ver idea clave</button>
      <button class="btn" id="nextBtn">Siguiente</button>
      <a href="index.html" class="btn" id="backBtn" style="text-decoration:none;">Regresar a notas de lectura</a>
    </div>
  </div>
<script>
  // Información de Walzer para el popup
  const walzerInfo = `
    <strong>Michael Walzer (n. 1935)</strong> es un filósofo político estadounidense, profesor emérito en el Institute for Advanced Study (Princeton, EE. UU.), conocido por sus trabajos sobre justicia, guerra, ética y ciudadanía.<br><br>
    <u>Algunos puntos clave sobre él:</u>
    <ul style="text-align:left; font-size:1.15rem; margin-top:1rem;">
      <li><strong>Obra más influyente:</strong> <em>Spheres of Justice</em> (1983), donde desarrolla la idea de que la justicia no es universal ni uniforme, sino que debe entenderse en “esferas” diferenciadas (economía, política, comunidad, etc.), cada una con sus propios criterios de distribución.</li>
      <li><strong>Teoría de la guerra justa:</strong> En <em>Just and Unjust Wars</em> (1977), ofrece una defensa moderna del concepto de guerra justa, analizando cómo deben ser evaluadas las guerras y la conducta de los combatientes.</li>
      <li><strong>Comunitarismo:</strong> Es una de las figuras centrales del comunitarismo político, corriente que resalta la importancia de la pertenencia comunitaria y de los valores compartidos frente a visiones más individualistas de la política.</li>
      <li><strong>Sobre fronteras y movilidad:</strong> Walzer argumenta que la libre movilidad dentro de un Estado (ciudadanos circulando sin restricciones) depende de que existan fronteras nacionales relativamente cerradas. Si estas se abrieran por completo, comunidades más pequeñas tenderían a erigir sus propias barreras internas —lo que él llamó un mundo de “mil pequeños fortines” (<em>a thousand petty fortresses</em>).</li>
    </ul>
  `;

  // Función para abrir el popup
  function showWalzerPopup() {
    const popup = document.createElement('div');
    popup.id = 'walzer-popup';
    popup.style.position = 'fixed';
    popup.style.top = '50%';
    popup.style.left = '50%';
    popup.style.transform = 'translate(-50%, -50%)';
    popup.style.background = 'rgba(255,247,236,0.98)';
    popup.style.color = 'var(--ink)';
    popup.style.border = '2px solid var(--teal-dark)';
    popup.style.borderRadius = '18px';
    popup.style.boxShadow = '0 8px 32px rgba(11,138,143,.18)';
    popup.style.padding = '2.2rem 2rem 1.5rem 2rem';
    popup.style.zIndex = '9999';
    popup.style.maxWidth = '90vw';
    popup.style.width = '480px';
    popup.style.fontSize = '1.15rem';
    popup.style.maxHeight = '80vh';
    popup.style.overflowY = 'auto';
    popup.innerHTML = `
      <div style="font-size:1.35rem; font-weight:700; margin-bottom:.7rem; color:var(--teal-dark);">¿Quién es Walzer?</div>
      ${walzerInfo}
      <div style="text-align:right; margin-top:1.5rem;">
        <button id="closeWalzerBtn" style="background:var(--sun);color:var(--ink);border:none;border-radius:999px;padding:.5rem 1.2rem;font-size:1rem;font-weight:700;cursor:pointer;">Cerrar</button>
      </div>
    `;
    document.body.appendChild(popup);

    // Ajustar tamaño si la ventana es pequeña
    function resizePopup() {
      const vw = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);
      popup.style.width = vw < 520 ? '96vw' : '480px';
      popup.style.maxHeight = vw < 520 ? '90vh' : '80vh';
    }
    resizePopup();
    window.addEventListener('resize', resizePopup);

    document.getElementById('closeWalzerBtn').onclick = () => {
      window.removeEventListener('resize', resizePopup);
      popup.remove();
    };
  }

  // Función para insertar el link en cada mención de Walzer
  function linkifyWalzer(text) {
    return text.replace(/Walzer/g, `<a href="#" onclick="showWalzerPopup();return false;" style="color:var(--coral);text-decoration:underline;font-weight:700;">Walzer</a>`);
  }

  // Preguntas e ideas clave
  const preguntas = [
    linkifyWalzer("Walzer sostiene que la libre movilidad interna se sostiene en la presunción de cierre en las fronteras nacionales. Durante la pandemia, sin embargo, el Estado canadiense extendió su soberanía al control de todos los movimientos —desde el cruce internacional hasta los desplazamientos cotidianos—, generando una situación de stasis casi total. ¿En este contexto, la experiencia canadiense confirma o desmiente la hipótesis de Walzer? ¿Qué nos revela sobre la capacidad del Estado de redefinir la movilidad como un privilegio permitido más que como un derecho?"),
    "¿Qué actores decidieron qué era “esencial” en Canadá (gobierno federal, provincias, sectores económicos, tribunales)? ¿Con qué criterios explícitos o implícitos?",
    "¿Cómo se reconfiguró la jerarquía de admisibilidad durante la pandemia? Contrasta “pasaporte privilegiado” vs. “entrada por necesidad”.",
    "Etiqueta y estigma: ¿qué efectos tuvieron narrativas como “virus chino/Wuhan”? Identifica consecuencias raciales y políticas.",
    "Comparativo México-Canadá: en México también se distinguió entre actividades esenciales y no esenciales. ¿Quién definió esas listas a nivel federal/estatal/municipal? ¿Qué negocios o trabajadores quedaron excluidos/invisibilizados?",
    "¿Qué implica conceptualizar la movilidad como permitida y no como derecho a la libre circulación? ¿Qué riesgos permanecen post-pandemia?"
  ];

  const ideas = [
    linkifyWalzer("La experiencia canadiense confirma parcialmente la tesis de Walzer: al cerrarse fronteras nacionales, emergieron múltiples barreras internas (provincias, comunidades indígenas, municipios). Pero también la desmiente, porque el cierre interno no fue una reacción a fronteras abiertas, sino parte de una soberanía extendida que reguló toda movilidad. Esto muestra la capacidad del Estado para redefinir la circulación como privilegio otorgado, no como derecho garantizado."),
    "Las decisiones sobre lo esencial se tomaron en varios niveles: el gobierno federal fijó reglas generales, las provincias adaptaron medidas según contextos locales, y sectores económicos presionaron para clasificar actividades como esenciales (p. ej. agricultura, transporte, salud). Los criterios mezclaron urgencia económica, necesidades básicas y legitimidad política, más que un principio único coherente.",
    "Antes del COVID, la jerarquía favorecía a poseedores de pasaportes del Norte Global. Durante la pandemia, esa lógica se desplazó por la noción de necesidad inmediata: trabajadores agrícolas temporales, personal médico o transportistas podían ingresar aunque fueran del Sur Global. El pasaporte privilegiado perdió fuerza frente a la utilidad percibida en el momento.",
    "Narrativas como “virus chino” o “Wuhan virus” reforzaron estigmas raciales, asociando enfermedad con nacionalidad o etnia. En Canadá y otros países, esto alimentó sinofobia, violencia verbal y física contra comunidades asiáticas, y legitimó políticas de exclusión bajo la lógica de proteger a la nación del ‘otro peligroso’.",
    "En México, las listas de lo esencial se definieron a nivel federal, pero con variaciones estatales y municipales. Comercios como papelerías, gimnasios o pequeños negocios de barrio quedaron fuera, mientras sectores industriales con peso económico fueron clasificados como esenciales. Esto visibiliza cómo criterios económicos y de poder político pesaron más que la equidad social.",
    "Considerar la movilidad como un permiso socava la idea de ciudadanía y de derechos universales de circulación. El riesgo post-pandemia es que el Estado conserve o reactive con facilidad mecanismos de control, legitimando nuevas formas de vigilancia y restricción bajo argumentos de seguridad o salud pública."
  ];

  let current = 0;
  let flipped = false;

  const frontFace = document.getElementById('frontFace');
  const backFace = document.getElementById('backFace');
  const prevBtn = document.getElementById('prevBtn');
  const nextBtn = document.getElementById('nextBtn');
  const flipBtn = document.getElementById('flipBtn');

  function renderSlide(idx) {
    frontFace.innerHTML = `<h2>Pregunta para discusión</h2><div style="margin-top:2.5rem;font-size:2.1rem;">${preguntas[idx]}</div>`;
    backFace.innerHTML = `<h2>Idea clave</h2><div style="margin-top:2.5rem;font-size:2.1rem;">${ideas[idx]}</div>`;
    prevBtn.disabled = idx === 0;
    nextBtn.disabled = idx === preguntas.length - 1;
    if (flipped) {
      frontFace.classList.remove('active');
      backFace.classList.add('active');
      flipBtn.textContent = "Ver pregunta";
    } else {
      frontFace.classList.add('active');
      backFace.classList.remove('active');
      flipBtn.textContent = "Ver idea clave";
    }
  }

  flipBtn.onclick = () => {
    flipped = !flipped;
    renderSlide(current);
  };

  prevBtn.onclick = () => {
    if (current > 0) {
      current--;
      flipped = false;
      renderSlide(current);
    }
  };
  nextBtn.onclick = () => {
    if (current < preguntas.length - 1) {
      current++;
      flipped = false;
      renderSlide(current);
    }
  };

  renderSlide(current);

  window.showWalzerPopup = showWalzerPopup;
</script>
</body>
</html>